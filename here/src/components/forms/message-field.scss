$color_1: var(--dark-green-1);
$color_2: var(--dark-green-7);
$background-color_1: white;
$background-color_2: transparent;

.message-field {
	position: relative;
	display: flex;
	align-items: flex-start;
	gap: 12px;
	padding: 16px;
	border-radius: 12px;
	background: white;
	border: 1px solid var(--dark-yellow-1);
	transition: all 0.2s ease;
	margin-bottom: 16px;

	&:focus-within {
		border-color: var(--dark-yellow-2);
		box-shadow: 0 0 0 4px rgba(var(--dark-yellow-1-rgb), 0.15);
	}

	.field-icon {
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--dark-green-7);
		flex-shrink: 0;
		margin-top: 4px;

		svg {
			width: 20px;
			height: 20px;
		}
	}

	textarea {
		flex: 1;
		min-width: 0;
		border: none;
		background: none;
		padding: 0;
		margin: 0;
		font-size: 15px;
		line-height: 1.5;
		color: var(--dark-green-7);
		resize: vertical;
		height: 120px;
		min-height: 120px;
		max-height: 240px;

		&::placeholder {
			color: var(--dark-green-6);
			opacity: 0.6;
			font-weight: 400;
		}

		&:focus {
			outline: none;
		}
	}

	// Error state
	&.has-error {
		border-color: var(--error);
		background-color: var(--error-light);

		&:focus-within {
			box-shadow: 0 0 0 4px rgba(var(--error-rgb), 0.15);
		}

		.field-icon {
			color: var(--error);
		}

		textarea {
			color: var(--error);

			&::placeholder {
				color: var(--error);
				opacity: 0.8;
			}
		}
	}

	.error-message {
		position: absolute;
		left: 0;
		bottom: -24px;
		font-size: 13px;
		color: var(--error);
		padding: 0 16px;
		display: flex;
		align-items: center;
		gap: 6px;

		&::before {
			content: '';
			width: 16px;
			height: 16px;
			background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23DC2626' viewBox='0 0 256 256'%3E%3Cpath d='M236.8,188.09,149.12,36.22a32.12,32.12,0,0,0-42.24,0L19.2,188.09a31.79,31.79,0,0,0,0,31.89A32.14,32.14,0,0,0,40.32,232h175.36a32.14,32.14,0,0,0,21.12-12,31.79,31.79,0,0,0,0-31.89ZM128,204a12,12,0,1,1,12-12A12,12,0,0,1,128,204Zm12-60a12,12,0,0,1-24,0V96a12,12,0,0,1,24,0Z' opacity='.2'%3E%3C/path%3E%3Cpath d='M128,180a12,12,0,1,1-12,12A12,12,0,0,1,128,180Zm-12-84v48a12,12,0,0,0,24,0V96a12,12,0,0,0-24,0Zm121.45,92.21a32.15,32.15,0,0,1-21.77,12.69A8,8,0,0,1,216,200h-176a8,8,0,0,1-.32,0,32.05,32.05,0,0,1-21.77-12.69,31.84,31.84,0,0,1-.09-31.83l87.67-151.88a32.16,32.16,0,0,1,42.24,0l87.67,151.88A31.84,31.84,0,0,1,237.45,188.21ZM224.43,180.06,136.76,28.18a16.13,16.13,0,0,0-21.11,0L28,180.06a15.94,15.94,0,0,0,0,15.87,16.07,16.07,0,0,0,13.91,8.07h168.61a16.07,16.07,0,0,0,13.91-8.07A15.94,15.94,0,0,0,224.43,180.06Z'%3E%3C/path%3E%3C/svg%3E");
			background-size: contain;
			background-repeat: no-repeat;
			flex-shrink: 0;
		}
	}

	// Mobile styles
	@media screen and (max-width: 768px) {
		padding: 14px;
		gap: 10px;
		margin-bottom: 14px;

		.field-icon {
			svg {
				width: 18px;
				height: 18px;
			}
		}

		textarea {
			font-size: 14px;
			height: 100px;
			min-height: 100px;
			max-height: 200px;
		}

		.error-message {
			bottom: -22px;
			font-size: 12px;
			padding: 0 14px;

			&::before {
				width: 14px;
				height: 14px;
			}
		}
	}

	// Small screens
	@media screen and (max-width: 480px) {
		padding: 14px;
		gap: 10px;
		margin-bottom: 12px;
		border-radius: 10px;

		textarea {
			font-size: 14px;
			height: 80px;
			min-height: 80px;
			max-height: 160px;
		}

		.error-message {
			bottom: -20px;
			font-size: 11px;
			padding: 0 14px;

			&::before {
				width: 13px;
				height: 13px;
			}
		}
	}
}
