$color_1: var(--dark-green-7);
$color_2: var(--dark-yellow-1);
$background-color_1: var(--light-yellow-1);
$background-color_2: var(--dark-yellow-1);
$background-color_3: var(--dark-green-7);

.form-section {
	width: 100%;
	min-height: 100vh;
	padding: 80px var(--section-padding);
	display: flex;
	justify-content: center;
	align-items: center;
	background: var(--light-yellow-1);
	position: relative;
	overflow: hidden;
	border-top: 1px solid var(--dark-yellow-1);
	border-bottom: 1px solid var(--dark-yellow-1);

	// Remove all gradient overlays
	&::before,
	&::after {
		content: none;
	}

	// // Subtle pattern overlay
	// .background-pattern {
	// 	position: absolute;
	// 	top: 0;
	// 	left: 0;
	// 	width: 100%;
	// 	height: 100%;
	// 	background-image: url('/images/leaf-pattern.svg');
	// 	background-size: 64px 64px;
	// 	background-repeat: repeat;
	// 	opacity: 0.03;
	// 	pointer-events: none;
	// 	animation: patternFloat 60s linear infinite;
	// }

	@keyframes patternFloat {
		0% {
			transform: translateY(0) rotate(0deg);
		}
		50% {
			transform: translateY(-20px) rotate(0.5deg);
		}
		100% {
			transform: translateY(0) rotate(0deg);
		}
	}

	.form-container {
		display: flex;
		width: 100%;
		max-width: var(--section-max-width);
		background: linear-gradient(135deg,
			white 0%,
			var(--light-yellow-1) 100%
		);
		backdrop-filter: blur(20px);
		-webkit-backdrop-filter: blur(20px);
		border-radius: 32px;
		border: 1px solid var(--dark-yellow-1);
		overflow: hidden;
		position: relative;
		z-index: 1;

		&::before {
			content: '';
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			background-image: url('/images/leaf-pattern.svg');
			background-size: 48px 48px;
			background-repeat: repeat;
			opacity: 0.15;
			pointer-events: none;
			z-index: 0;
		}

		.hero-side {
			flex: 1;
			min-width: 640px;
			padding: 48px 60px;
			background: rgba(255, 253, 244, 0.98);
			position: relative;
			display: flex;
			justify-content: center;
			align-items: center;
			border-right: none;
			z-index: 1;

			&::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: linear-gradient(135deg,
					rgba(var(--light-yellow-1-rgb), 0.3) 0%,
					rgba(var(--light-yellow-2-rgb), 0.3) 100%
				);
				pointer-events: none;
			}

			.catalog-preview {
				position: relative;
				width: 100%;
				height: 600px;
				perspective: 2000px;
				margin: 0;
				display: flex;
				justify-content: center;
				align-items: center;

				.catalog-wrapper {
					position: relative;
					width: auto;
					height: auto;
					margin: 0 auto;
					transform-style: preserve-3d;
					transform: rotateY(-15deg) rotateX(4deg);
					transition: transform 0.6s ease;

					// Book spine effect
					&::before {
						content: '';
						position: absolute;
						left: 0;
						top: 0;
						width: 40px;
						height: 100%;

						transform: rotateY(90deg) translateX(-20px);
						transform-origin: left;
						border-radius: 2px;
					}

					// Pages effect
					&::after {
						content: '';
						position: absolute;
						right: 0;
						top: 0;
						width: 100%;
						height: 100%;
						background: transparent;
						transform: translateZ(-40px);
						box-shadow:
							1px 1px 0 rgba(255, 255, 255, 0.8),
							2px 2px 0 rgba(255, 255, 255, 0.7),
							3px 3px 0 rgba(255, 255, 255, 0.6),
							4px 4px 0 rgba(255, 255, 255, 0.5),
							5px 5px 0 rgba(255, 255, 255, 0.4);
						border-radius: 4px;
					}

					&:hover {
						transform: rotateY(-12deg) rotateX(2deg) translateY(-15px);
					}

					> :first-child {
						transform: scale(0.65);
						transform-origin: center;
						border-radius: 8px;
						box-shadow:
							0 40px 80px -20px rgba(0, 0, 0, 0.3),
							0 0 20px rgba(0, 0, 0, 0.1),
							-1px 0 2px rgba(0, 0, 0, 0.05);
					}

					.catalog-reflection {
						position: absolute;
						bottom: -40px;
						left: 0;
						width: 100%;
						height: 100%;
						background: linear-gradient(
							to bottom,
							rgba(255, 255, 255, 0.1),
							rgba(255, 255, 255, 0.05)
						);
						transform: rotateX(180deg) translateY(85%);
						transform-origin: bottom;
						filter: blur(8px);
						opacity: 0.4;
						pointer-events: none;
					}
				}
			}
		}

		.form-side {
			width: 480px;
			padding: 48px;
			background: linear-gradient(135deg,
				var(--light-yellow-2) 0%,
				var(--light-yellow-1) 100%
			);
			position: relative;
			z-index: 2;
			border-radius: 0;
			border: 1px solid var(--dark-yellow-1);
			backdrop-filter: blur(12px);
			-webkit-backdrop-filter: blur(12px);

			// Add subtle texture overlay
			&::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				background: radial-gradient(
					circle at top right,
					rgba(255, 255, 255, 0.4) 0%,
					transparent 70%
				);
				pointer-events: none;
				opacity: 0.6;
			}

			.form-wrapper {
				position: relative;
				z-index: 2;
				width: 100%;

				.form-header {
					margin-bottom: 32px;
					text-align: center;
					display: flex;
					flex-direction: column;
					align-items: center;
					gap: 12px;

					.icon-wrapper {
						width: 48px;
						height: 48px;
						border-radius: 12px;
						background: white;
						display: flex;
						align-items: center;
						justify-content: center;
						color: var(--dark-green-7);
						border: 1px solid var(--dark-yellow-1);
						box-shadow:
							0 2px 4px rgba(var(--dark-green-7-rgb), 0.04),
							0 1px 2px rgba(var(--dark-green-7-rgb), 0.02);

						svg {
							width: 24px;
							height: 24px;
							--phosphor-color: var(--dark-green-7);
							--phosphor-color-secondary: rgba(var(--dark-green-7-rgb), 0.3);
						}
					}

					h3 {
						font-size: 24px;
						color: var(--dark-green-7);
						margin: 0;
						font-weight: 600;
					}

					p {
						font-size: 15px;
						color: var(--dark-green-6);
						line-height: 1.5;
						margin: 0;
					}
				}

				.download-form {
					display: flex;
					flex-direction: column;
					gap: 24px;
					margin-top: 32px;
					width: 100%;

					.fields-container {
						display: flex;
						flex-direction: column;
						gap: 12px;
					}

					.submit-error {
						display: flex;
						align-items: center;
						gap: 8px;
						padding: 12px 16px;
						background: var(--light-yellow-1);
						border: 1px solid var(--dark-yellow-2);
						border-radius: 8px;
						color: var(--dark-yellow-2);
						font-size: 14px;
						font-weight: 500;
						animation: slideIn 0.3s ease;

						svg {
							flex-shrink: 0;
							color: var(--dark-yellow-2);
						}
					}

					.submit-button {
						margin-top: 24px;
						display: flex;
						align-items: center;
						justify-content: center;
						gap: 8px;
						background: var(--dark-yellow-1);
						color: var(--dark-green-7);
						border: none;
						border-radius: 12px;
						padding: 16px 32px;
						font-size: 16px;
						font-weight: 600;
						cursor: pointer;
						transition: all 0.2s ease;
						width: 100%;
						position: relative;
						overflow: hidden;

						&:hover {
							background: var(--light-yellow-4);
							transform: translateY(-2px);
						}

						&:active {
							transform: translateY(0);
						}

						&:disabled {
							opacity: 0.7;
							cursor: not-allowed;
							transform: none;
						}

						&.submitting {
							background: var(--dark-yellow-1);
							cursor: wait;

							&::after {
								content: '';
								position: absolute;
								top: 0;
								left: -100%;
								width: 200%;
								height: 100%;
								background: linear-gradient(
									90deg,
									transparent 0%,
									rgba(255, 255, 255, 0.2) 50%,
									transparent 100%
								);
								animation: loading 1.5s infinite;
							}

							svg {
								animation: spin 1s linear infinite;
							}
						}

						svg {
							flex-shrink: 0;
							color: currentColor;
						}

						span {
							line-height: 1;
						}

						.spinning {
							animation: spin 1s linear infinite;
						}
					}
				}
			}
		}
	}

	@media (max-width: 1200px) {
		padding: 60px var(--section-padding);

		.form-container {
			.hero-side {
				min-width: 560px;
				padding: 40px 50px;

				.catalog-preview {
					height: 540px;

					.catalog-wrapper {
						> :first-child {
							transform: scale(0.55);
						}
					}
				}
			}

			.form-side {
				width: 440px;
				padding: 40px;
			}
		}
	}

	@media (max-width: 992px) {
		padding: 40px 24px;

		.form-container {
			flex-direction: column;
			max-width: 600px;

			.hero-side {
				min-width: unset;
				padding: 40px;
				border-right: none;
				border-bottom: 2px solid var(--dark-yellow-1);

				.catalog-preview {
					height: 500px;

					.catalog-wrapper {
						> :first-child {
							transform: scale(0.55);
						}
					}
				}
			}

			.form-side {
				width: 100%;
				padding: 40px;
				border-left: none;
				border-top: 1px solid rgba(var(--dark-yellow-1-rgb), 0.1);

				.form-wrapper {
					max-width: 400px;
					margin: 0 auto;
				}
			}
		}
	}

	@media (max-width: 768px) {
		.form-container {
			.hero-side {
				.catalog-preview {
					.catalog-wrapper {
						transform: scale(0.7);
					}
				}
			}

			.download-form {
				gap: 20px;
				margin-top: 24px;

				.fields-container {
					gap: 12px;
				}

				.submit-error {
					padding: 10px 14px;
					font-size: 13px;
				}

				.submit-button {
					padding: 14px 24px;
					font-size: 15px;
					border-radius: 10px;
				}
			}
		}
	}

	@media (max-width: 480px) {
		padding: 20px 16px;
		min-height: unset;

		.form-container {
			border-radius: 24px;

			.hero-side {
				padding: 32px 24px;

				.catalog-preview {
					height: 360px;

					.catalog-wrapper {
						> :first-child {
							transform: scale(0.45);
						}
					}
				}
			}

			.form-side {
				padding: 32px 24px;

				.form-wrapper {
					.form-header {
						margin-bottom: 24px;

						h3 {
							font-size: 20px;
							margin-bottom: 8px;
						}

						p {
							font-size: 14px;
						}
					}

					.download-form {
						gap: 16px;
						margin-top: 20px;

						.fields-container {
							gap: 12px;
						}

						.submit-error {
							padding: 8px 12px;
							font-size: 12px;
							gap: 6px;

							svg {
								width: 14px;
								height: 14px;
							}
						}

						.submit-button {
							padding: 12px 20px;
							font-size: 14px;
							border-radius: 8px;
						}
					}
				}
			}
		}
	}
}

.catalog-form {
	flex: 1;
	min-width: 300px;
	max-width: 500px;
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	gap: 24px;
	background: linear-gradient(135deg,
		var(--light-yellow-2) 0%,
		var(--light-yellow-1) 100%
	);
	padding: 32px;
	border-radius: 24px;
	border: 1px solid var(--dark-yellow-1);
	backdrop-filter: blur(12px);
	-webkit-backdrop-filter: blur(12px);
}

@keyframes loading {
	from {
		transform: translateX(0);
	}
	to {
		transform: translateX(50%);
	}
}

@keyframes slideIn {
	from {
		opacity: 0;
		transform: translateY(-4px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

// Reduced motion preferences
@media (prefers-reduced-motion: reduce) {
	.form-section {
		.download-form {
			.submit-error,
			.submit-button {
				transition: none !important;
				animation: none !important;

				&::after {
					animation: none !important;
				}
			}
		}
	}
}